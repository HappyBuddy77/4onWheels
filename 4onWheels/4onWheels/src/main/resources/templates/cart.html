<!DOCTYPE html>
    <html xmlns:th="http://www.thymeleaf.org">
	
	<head>
		<title>New Vehicle</title>
        <link rel="stylesheet" th:href="@{/css/style.css}" />
		<link rel="stylesheet" th:href="@{/css/cartCheckoutStyle.css}" />
		<!-- <script src="homeInputs.js"></script> -->
		
        <script type="text/javascript" th:src="@{/js/cartInputs.js}"></script>
        <meta name="_csrf" th:content="${_csrf.token}"/>
        <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
	</head>
	<body>
		<header>
            <a href="/HomePage">
			    <h1>4onWheels Home</h1>
            </a>

            <div class="header-icons">
                
                <!-- Commented Out for now but this is to link the icon to the Shoping Cart, put above line between <a>...</a> -->
                <a href="/cart" title="Shopping Cart"> 
                    <img src="https://www.freeiconspng.com/thumbs/cart-icon/basket-cart-icon-27.png" class="icon">
                </a>

                <img src="https://www.freeiconspng.com/thumbs/profile-icon-png/account-profile-user-icon--icon-search-engine-10.png" class="icon">
                <!-- Add more icons as needed -->
            </div>
		</header>
		<main>

            <div class="checkout_title">
            <label for="checkout">
                Checkout
                <span class="error" aria-live="polite"></span>								
            </label>
            </div>

            <div class="container">
                <!-- Just A place holder right now will replace with Image from DB -->
                <form action="/checkout" method="post" id="checkoutForm">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    <fieldset>
                        <legend>Payment Details</legend>								<!-- Title of the Box -->
                        <div class="horizontal-labels">
                            <label for="firstName">
                                First Name: <input class="middle" type="text" id="firstName" name="firstName">	
                                <span class="error" aria-live="polite"></span>							<!-- References CSS Class "error" -->		
                            </label>

                            <label for="lastName">
                                Last Name: <input class="middle" type="text" id="lastName" name="lastName">	
                                <span class="error" aria-live="polite"></span>							<!-- References CSS Class "error" -->		
                            </label>

                            <label for="email">
                                Email: <input class="longer" type="text" id="email" name="email">	
                                <span class="error" aria-live="polite"></span>							<!-- References CSS Class "error" -->		
                            </label>
                            
                            <label for="phone">
                                Phone Number: <input class="middle" type="text" id="phone" name="phone">	
                                <span class="error" aria-live="polite"></span>							<!-- References CSS Class "error" -->		
                            </label>

                            <label for="addressStreet">
                                Address: <input class="longer" type="text" id="addressStreet" name="addressStreet">	
                                <span class="error" aria-live="polite"></span>							<!-- References CSS Class "error" -->		
                            </label>

                            <label for="addressCity">
                                City: <input class="middle" type="text" id="addressCity" name="addressCity">	
                                <span class="error" aria-live="polite"></span>							<!-- References CSS Class "error" -->		
                            </label>

                            <label for="addressProvice">
                                Province: <input class="middle" type="text" id="addressProvince" name="addressProvince">	
                                <span class="error" aria-live="polite"></span>							<!-- References CSS Class "error" -->		
                            </label>

                            <label for="addressPostal">
                                Postal Code: <input class="shorter" type="text" id="addressPostal" name="addressPostal">	
                                <span class="error" aria-live="polite"></span>							<!-- References CSS Class "error" -->		
                            </label>

                            <label for="creditCard">
                                Credit / Debt: <input class="longer" type="text" id="creditCard" name="creditCard">	
                                <span class="error" aria-live="polite"></span>							<!-- References CSS Class "error" -->		
                            </label>

                            <label for="creditExp">
                                Exp: <input class="shorter" type="text" id="creditExp" name="creditExp">	
                                <span class="error" aria-live="polite"></span>							<!-- References CSS Class "error" -->		
                            </label>

                            <label for="creditCVC">
                                CVC: <input class="shorter" type="text" id="creditCVC" name="creditCVC">	
                                <span class="error" aria-live="polite"></span>							<!-- References CSS Class "error" -->		
                            </label>
                        </div>
                    </fieldset>
                <!-- </form> -->

            <!-- </div> -->

            <!-- <div class="container"> -->
                <!-- <form action="/checkout" method="post" id="pickupOption"> -->
                    <fieldset>
                        <legend>Pickup Options</legend>

                            <label for="pickupLocation">
                                Pickup Location: 
                                <select id="pickupLocation" name="pickupLocation">
                                    <option value="Toronto">Toronto</option>
                                    <option value="Windsor">Windsor</option>
                                    <option value="Oshawa">Oshawa</option>
                                    <option value="Brampton">Brampton</option>
                                </select>									
                            </label>

                             <label for="pickupDate">
                                Pickup Date: <input class="longer" type="text" id="pickupDate" name="pickupDate">	
                                <span class="error" aria-live="polite"></span>							<!-- References CSS Class "error" -->		
                            </label>

                            <label for="pickupTime">
                                Pickup Time: 
                                <select id="pickupTime" name="pickupTime">
                                    <option value="08:00 AM">08:00 AM</option>
                                    <option value="09:00 AM">09:00 AM</option>
                                    <option value="10:00 AM">10:00 AM</option>
                                    <option value="11:00 AM">11:00 AM</option>
                                    <option value="12:00 PM">12:00 PM</option>
                                    <option value="01:00 PM">01:00 PM</option>
                                    <option value="02:00 PM">02:00 PM</option>
                                    <option value="03:00 PM">03:00 PM</option>
                                    <option value="04:00 PM">04:00 PM</option>
                                    <option value="05:00 PM">05:00 PM</option>
                                </select>									
                            </label>
                    </fieldset>
                <!-- </form>

                 <form action="/checkout" method="post" id="paymentOption"> -->
                    <fieldset>
                        <legend>Payment Options</legend>
                            <label for="paymentOption">
                                Payment Option: 
                                <select id="paymentType" name="paymentType">
                                    <option value="Loan">Loan</option>
                                    <option value="Full">Full</option>
                                </select>									
                            </label>

                            <div id="loanFields" style="display: none; margin-top: 10px;">
                                <label for="depositAmount">Deposit Amount:
                                    <input type="number" name="depositAmount" id="depositAmount" min="0">
                                </label>
                                <br>
                                						
                                <label for="loanLength">Loan Length (months):
                                    <select id="loanLength" name="loanLength">
                                        <option value="6">6</option>
                                        <option value="12">12</option>
                                        <option value="18">18</option>
                                        <option value="24">24</option>
                                        <option value="30">30</option>
                                        <option value="36">36</option>
                                    </select>		
                                </label>

                                <input type="hidden" id="total_amount" name="total_amount" value="0.00">
                                <p><strong>Estimated Monthly Payment: <span id="monthlyPayment">$0.00</span></strong></p>
                            </div>
                            
                    </fieldset>
                </form>


                <div class="cart-details">
                    <h2>Cart Details</h2>
                    <table id="cartDetails-table">
                        <thead>
                            <tr class="cart-item">
                                <th>ID</th>
                                <th>Item</th>
                                <th>Price</th>
                                <th>Edit</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="item : ${cartItems}" class="cart-item">
                                <td th:text="${item.productId}"></td>
                                <td th:text="${item.productName}"></td>
                                <td th:text="${item.price}"></td>
                                <td class="delete-item">
                                    <i class="trash-icon" th:attr="onclick=|deleteItem(event, ${item.id})|" style="cursor:pointer;">🗑️</i>
                                </td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="3"><strong>Total</strong></td>
                                <td><strong id="total-price">$0.00</strong></td>
                            </tr>
                        </tfoot>
                    </table>
                </div>

            </div>
            <button class="next-button" id="btn_checkout">Next ➔</button>

		</main>
		<footer>
			<p>Something</p>
		</footer>
		</body>
</html>