<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Vehicle</title>
    <script type="text/javascript" th:src="@{/js/review-list.js}"></script>
  </head>
  <body>
      <nav th:insert="~{logoutbtn :: logoutbtn}"> </nav>
      <h1>Vehicle Details</h1>
      <div>
        Make:<p th:text="${vehicle.make}"></p>
        Model:<p th:text="${vehicle.model}"></p>
        Description:<p th:text="${vehicle.description}"></p>
        <span>Average rating:</span>
        <p th:text="${average_rating}"></p>
      </div>
      <div>
        <h1>Review List</h1>
        <button class="sort-btn" onclick="sortReviewList('asc')"  id="asc">Asc</button>
        <button class="sort-btn" onclick="sortReviewList('desc')"  id="desc">Desc</button>
        <ul id="reviewList_li" >
            <li th:each="review: ${reviews}" th:attr="data-rating=${review.rating}"> 
                <p th:text="${review.user.email}"> </p>
                <div>
                  <span th:text="${review.rating}"></span>
                  <span >rating</span>
                </div>
                  <input th:value="${review.review}" disabled width="100" hright="50"/>
            </li>
        </ul>
      </div>
      <table th:fragment="reviewList"  id="reviewList" style="width:100%">
                <tr>
                    <th>ID</th>
                    <th>USER</th>
                    <th>RATING
                        <button class="sort-btn" onclick="sortTable(2, 'btn_rating')" dir="no" id="btn_rating">â†‘</button>
                    </th>
                    <th>REVIEW</th>
                </tr>
                <tr th:each="review: ${reviews}">
                    <td th:text="${review.id}"></td>
                    <td th:text="${review.user.email}"></td>
                    <td>${review.rating} Stars</td>
                    <td th:text="${review.review}"></td> 
                </tr>
            </table>
      <div th:replace="~{review_form :: review-form}" > </div>
    </body>
</html>
